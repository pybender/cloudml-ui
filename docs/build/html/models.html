
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>Working with Models &mdash; Upwork CloudML 0.0.1 documentation</title>
  <!-- htmltitle is before nature.css - we use this hack to load bootstrap first -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="_static/css/bootstrap-responsive.css"/>

    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Upwork CloudML 0.0.1 documentation" href="index.html" />
    <link rel="next" title="Pretrained transformers" href="transformers.html" />
    <link rel="prev" title="Importing the Data" href="import_handlers.html" />
  
   
       <script type="text/javascript" src="_static/sidebar.js"></script>
   
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="_static/js/bootstrap.min.js" type="text/javascript"></script>
  <link rel="canonical" href="http://scikit-learn.org/stable/models.html" />

  <script type="text/javascript">
    $("div.buttonNext, div.buttonPrevious").hover(
       function () {
           $(this).css('background-color', '#FF9C34');
       },
       function () {
           $(this).css('background-color', '#A7D6E2');
       }
    );
    var bodywrapper = $('.bodywrapper');
    var sidebarbutton = $('#sidebarbutton');
    sidebarbutton.css({'height': '900px'});
  </script>

  </head>
  <body role="document">

<div class="header-wrapper">
    <div class="header"></div>
</div>




<div class="content-wrapper">
    <div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
        <div class="rel rellarge">
    

  <!-- rellinks[1:] is an ugly hack to avoid link to module
  index -->
        <div class="rellink">
        <a href="import_handlers.html"
        accesskey="P">Previous
        <br/>
        <span class="smallrellink">
        Importing the Da...
        </span>
            <span class="hiddenrellink">
            Importing the Data
            </span>
        </a>
        </div>
            <div class="spacer">
            &nbsp;
            </div>
        <div class="rellink">
        <a href="transformers.html"
        accesskey="N">Next
        <br/>
        <span class="smallrellink">
        Pretrained trans...
        </span>
            <span class="hiddenrellink">
            Pretrained transformers
            </span>
        </a>
        </div>

    <!-- Ad a link to the 'up' page -->
    </div>
    

<!--
      <p class="doc-version">This documentation is for Upwork CloudML <strong>version 0.0.1</strong> &mdash; <a href="http://scikit-learn.org/stable/support.html#documentation-resources">Other versions</a></p> -->
<!--     <p class="citing">If you use the software, please consider <a href="about.html#citing-scikit-learn">citing scikit-learn</a>.</p> -->
    <ul>
<li><a class="reference internal" href="#">Working with Models</a><ul>
<li><a class="reference internal" href="#edditing-features">Edditing features</a><ul>
<li><a class="reference internal" href="#removing-disabling-features">Removing/disabling features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-transformed-datasets">Working with transformed datasets</a></li>
<li><a class="reference internal" href="#model-feature-weights">Model feature weights</a></li>
<li><a class="reference internal" href="#pickled-models">Pickled Models</a></li>
<li><a class="reference internal" href="#model-parameters-grid-search">Model Parameters Grid Search</a></li>
</ul>
</li>
</ul>

    </div>
</div>



      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="working-with-models">
<h1><a class="toc-backref" href="#id2">Working with Models</a><a class="headerlink" href="#working-with-models" title="Permalink to this headline">¶</a></h1>
<p>The model is the main entity in the cloudml project. It is a classifier with set of features and other parametes.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#working-with-models" id="id2">Working with Models</a><ul>
<li><a class="reference internal" href="#edditing-features" id="id3">Edditing features</a><ul>
<li><a class="reference internal" href="#removing-disabling-features" id="id4">Removing/disabling features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-transformed-datasets" id="id5">Working with transformed datasets</a></li>
<li><a class="reference internal" href="#model-feature-weights" id="id6">Model feature weights</a></li>
<li><a class="reference internal" href="#pickled-models" id="id7">Pickled Models</a></li>
<li><a class="reference internal" href="#model-parameters-grid-search" id="id8">Model Parameters Grid Search</a></li>
</ul>
</li>
</ul>
</div>
<p>There are information about classifier and features on the model tab.</p>
<div class="section" id="edditing-features">
<h2><a class="toc-backref" href="#id3">Edditing features</a><a class="headerlink" href="#edditing-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="removing-disabling-features">
<h3><a class="toc-backref" href="#id4">Removing/disabling features</a><a class="headerlink" href="#removing-disabling-features" title="Permalink to this headline">¶</a></h3>
<p>If you don&#8217;t want to use the feature, when train the model, you have two ways:</p>
<ul>
<li><dl class="first docutils">
<dt>remove</dt>
<dd><p class="first last">by clicking to the red button delete in the actions column</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>disable</dt>
<dd><p class="first last">by clicking to the grey button disable in the actions column</p>
</dd>
</dl>
</li>
</ul>
<a class="reference internal image-reference" href="_images/remove-feature.png"><img alt="_images/remove-feature.png" src="_images/remove-feature.png" style="width: 800px;" /></a>
</div>
</div>
<div class="section" id="working-with-transformed-datasets">
<span id="download-transformed-train-dataset"></span><h2><a class="toc-backref" href="#id5">Working with transformed datasets</a><a class="headerlink" href="#working-with-transformed-datasets" title="Permalink to this headline">¶</a></h2>
<p>To download vectorized data, that has been used for model trainer go to the &#8220;Training&#8221; tab and click to the download button near dataset name, that was used for training:</p>
<img alt="_images/download-dataset.png" src="_images/download-dataset.png" />
<p>Preparing vectorized version of the dataset is a background operation, and when it would be completed on the &#8220;About&#8221; tab appears section &#8220;DataSet Transform Requests&#8221;:</p>
<img alt="_images/transformed-dataset-list.png" src="_images/transformed-dataset-list.png" />
<p>Click to Download button and you will have .npz archive with vectorized data.</p>
<p>Sample usage data in your script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">path_to_npz_file</span><span class="p">)[</span><span class="s">&#39;default.npy&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="p">[</span><span class="s">&#39;X&#39;</span><span class="p">]</span>
<span class="go">&lt;n x m sparse matrix&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="p">[</span><span class="s">&#39;Y&#39;</span><span class="p">]</span>
<span class="go">&lt;list with n - elements&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="model-feature-weights">
<h2><a class="toc-backref" href="#id6">Model feature weights</a><a class="headerlink" href="#model-feature-weights" title="Permalink to this headline">¶</a></h2>
<p>For different classifiers we use different parameters as feature weights:</p>
<ul>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html#sklearn.linear_model.LogisticRegression">LogisticRegression</a></dt>
<dd><p class="first last"><cite>coef_</cite> - coefficient of the features in the decision function</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDClassifier.html#sklearn-linear-model-sgdclassifier">SGDClassifier</a></dt>
<dd><p class="first last"><cite>coef_</cite> - weights assigned to the features.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.svm.SVR.html#sklearn-svm-svr">SVR</a></dt>
<dd><p class="first last"><cite>coef_</cite> - weights assigned to the features (coefficients in the primal problem). This is only available in the case of linear kernel.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html">Decision Tree Classifier</a></dt>
<dd><p class="first last"><cite>feature_importances_</cite> - the feature importances. The higher, the more important the feature. The importance of a feature is computed as the (normalized) total reduction of the criterion brought by that feature. It is also known as the Gini importance</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.ExtraTreesClassifier.html">ExtraTreesClassifier</a></dt>
<dd><p class="first last"><cite>feature_importances_</cite> - the feature importances (the higher, the more important the feature).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">RandomForestClassifier</a></dt>
<dd><p class="first last"><cite>feature_importances_</cite> - the feature importances (the higher, the more important the feature).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.GradientBoostingClassifier.html">GradientBoostingClassifier</a></dt>
<dd><p class="first last"><cite>feature_importances_</cite> - the feature importances (the higher, the more important the feature).</p>
</dd>
</dl>
</li>
</ul>
<a class="reference internal image-reference" href="_images/weights-columns.png"><img alt="_images/weights-columns.png" src="_images/weights-columns.png" style="width: 800px;" /></a>
<p>Also on the List tab there are normalized weight, calculated as:</p>
<img alt="_images/normalized-weight.png" src="_images/normalized-weight.png" />
<p>where:</p>
<ul class="simple">
<li>n - row count in train dataset</li>
<li>betta(j) - weight of the selected feature</li>
<li>x(i, j) - value of the selected feature for i-row in the dataset</li>
</ul>
<p>It used  to analyze, whether weights parameter is important with this data.</p>
<a class="reference internal image-reference" href="_images/weights-list.png"><img alt="_images/weights-list.png" src="_images/weights-list.png" style="width: 800px;" /></a>
<p>On the tree tab there are also a child nodes normalized weight sum for not leaf nodes. It displays after sigma symbol. Weights on the tree view is from red to green, normalized weights have grey color.</p>
<img alt="_images/weights-tree.png" src="_images/weights-tree.png" />
</div>
<div class="section" id="pickled-models">
<span id="id1"></span><h2><a class="toc-backref" href="#id7">Pickled Models</a><a class="headerlink" href="#pickled-models" title="Permalink to this headline">¶</a></h2>
<p>System stores pickled Trainer class for the model in Amazon S3.
Trainer could use the configuration defined in model features and perform the training of the classifier. The trainer can also perform testing of the generated model.</p>
<p>The underlying implementation supporting the trainer is based on Python&#8217;s <a class="reference external" href="http://scikit-learn.org">scikit-learn</a> package.</p>
<p>You could download model trainer from existing model by clicking &#8220;download trainer&#8221; in the top of the model details page.
Don&#8217;t forget, that model should be trained before.</p>
<a class="reference internal image-reference" href="_images/download-trainer.png"><img alt="_images/download-trainer.png" src="_images/download-trainer.png" style="width: 800px;" /></a>
<p>You could load already trained model by specify trainer file in the <a class="reference external" href="http://cloudml.int.odesk.com/#/upload_model">upload model page</a>.</p>
</div>
<div class="section" id="model-parameters-grid-search">
<h2><a class="toc-backref" href="#id8">Model Parameters Grid Search</a><a class="headerlink" href="#model-parameters-grid-search" title="Permalink to this headline">¶</a></h2>
<p>Searches over specified parameter values for an classifier.
As the underlying implementation used <a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.grid_search.GridSearchCV.html#sklearn-grid-search-gridsearchcv">Scikit GridSearchCV</a></p>
<p>For starting parameters grid search click to &#8220;Grid search&#8221; button on the right-top corner of the model details page.</p>
<p>In opened popup you should choose classifier parameters, dataset for training, dataset for testing and model evaluation metrics.</p>
<img alt="_images/grid-search.png" src="_images/grid-search.png" />
<p>Searching the best classifier parameters is the background process, so navigate to &#8220;Parameters Search&#8221; tab to view results:</p>
<img alt="_images/grid-search-results.png" src="_images/grid-search-results.png" />
<p>Seems the best parameters are &#8220;C: 100, penalty: l2&#8221;.</p>
</div>
</div>


          </div>
        </div>
      </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer">
        &copy; 2015, Upwork.
      <a href="_sources/models.txt" rel="nofollow">Show this page source</a>
    </div>
     <div class="rel rellarge">
    
    <div class="buttonPrevious">
      <a href="import_handlers.html">Previous
      </a>
    </div>
    <div class="buttonNext">
      <a href="transformers.html">Next
      </a>
    </div>
    
     </div>

    
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-22606712-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    

    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript"> google.load('search', '1',
        {language : 'en'}); google.setOnLoadCallback(function() {
            var customSearchControl = new
            google.search.CustomSearchControl('016639176250731907682:tjtqbvtvij0');
            customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
            var options = new google.search.DrawOptions();
            options.setAutoComplete(true);
            customSearchControl.draw('cse', options); }, true);
    </script>
  </body>
</html>