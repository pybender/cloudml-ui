<alert-message ng-show="err" class="alert-error" msg='{{ err }}' unsafe></alert-message>

<div>Schema Name: <span class="value">{{ featuresSet.schema_name }}</span></div>
<div>Target Variable: <span class="value">{{ featuresSet.target_variable }}</span></div>
<div>Features Count: <span class="value">{{ featuresSet.features_count }}</span></div>

<div ng-controller="FeaturesListCtrl" ng-init="init(model)">
<h4>Features List
	<div class="actions">
      <a class="btn btn-info" ng-click="addFeature()">
        <i class="status-icon icon-plus"></i> Add
      </a>
      <a href="{{ featuresSet.downloadUrl() }}" class="btn btn-info">
        <i title="Download features" class="icon-download-alt"></i> Download JSON
      </a>
  	</div>
</h4>

<div ng-controller="FeatureFieldsSelectsLoader">
<table ng-controller="BaseListCtrl" ng-init="init(false, 'features')" class="table table-hover">
	<thead>
	<tr>
		<th>Name</th>
		<th>Input Format</th>
		<th>Transformer</th>
		<th>Scaler</th>
		<th>Params</th>
		<th style="width: 10%;">Required</th>
		<th style="width: 10%;">Default</th>
		<th style="width: 10%;">Is Target?</th>
		<th style="width: 100px;">Actions</th>
	</tr>
	</thead>
	<tbody>
		<tr ng-repeat="feature in objects" ng-init="init({model: feature})" ng-controller="FeatureActionsCtrl">
			<td>
				<span title="Feature Name" class="title" ng-bind="feature.name || 'feature name here'" editable="feature" value="feature.name" editable-field="name" editable-input="text" editable-placement="right"></span><br />
				<small>(<span title="Feature Type" ng-bind="feature.type" editable="feature" value="feature.type" editable-field="type" editable-placement="right" editable-input="select" source="types"></span>)</small>
			</td>
			<td><span title="Input Format" ng-bind="feature.input_format" editable="feature" value="feature.input_format || ''" editable-field="input_format" editable-placement="right"editable-input="text"></span></td>
			<td>
				<div ng-show="feature.transformer._id">
					<a ng-click="editTransformer(feature)">
						<span>{{ feature.transformer.name }} ({{ feature.transformer.type }})</span>
					</a>
					<a ng-click="deleteTransformer(feature)">
						<i title="Delete transformer from feature" class="icon-remove" />
					</a>
				</div>
				<div ng-hide="feature.transformer._id">
					<a ng-click="editTransformer(feature)" title="add feature transformer" class="btn btn-info" href=""><i class="status-icon icon-plus"></i></a>
				</div>
			</td>
			<td>
				{{ feature.scaler.type }}
			</td>
			<td ng-init="params = feature.params">
		    	<ng-include src="'/partials/parts/params_list.html'"></ng-include>
		    </td>
			<td>
				<a ng-show="feature.required" ng-click="makeRequired(feature, false)"><i class="icon-ok" title="Make not required" /> yes</a>
				<a ng-click="makeRequired(feature, true)" ng-hide="feature.required"><i class="icon-remove" title="Make required" /> no</a></td>
			<td>
				<span title="Default Value" class="title" ng-bind="feature.default || ''" editable="feature" value="feature.default || ''" editable-field="default" editable-input="text" editable-placement="right"></span>
			</td>
			<td>
				<span ng-show="feature.is_target_variable"><i class="icon-ok" /> yes</span>
				<span ng-hide="feature.is_target_variable"><i class="icon-ok" /> no</span>
				</td>
		    <td>
		    	<a class="btn btn-info" ng-click="makeTarget(feature)" ng-hide="feature.is_target_variable"><i class="icon-check" title="make target" /></a>
			    <button ng-click="deleteModel(model)" class="btn btn-danger"><i title="Delete your model. Be careful - you could not recover it!" class="icon-remove"></i></button>
		    </td>
		</tr>
	</tbody>
</table>
</div>
</div>