<div ng-controller="ServersSelectLoaderForImportHandler">
  <div class="modal-header">
    <button ng-click="$dismiss('cancel')" class="close" data-dismiss="modal">Ã—</button>
    <h3>Upload to cloudml-predict</h3>
  </div>

  <div class="modal-body">
    <form name="Form" class="form-horizontal">
      <div class="control-group" ng-class="{error: Form.server.$invalid || errorList.server}">
        <label class="control-label">Server</label>
        <div class="controls">
          <select name="server" ng-model="model.server" ng-required ng-change="serverChanged(Form.server.$viewValue)" ng-options="server.id as server.name for server in servers">
            <option value="">- nothing selected -</option>
          </select>
          <span ng-show="Form.server.$error.required" class="help-inline">*</span>
        </div>
      </div>
    </form>
    <hr ng-show="selectedServer" />
    <alert-message ng-show="error" class="alert-error" msg="{{ error }}" trace='{{ trace }}' safe></alert-message>
    <div ng-show="selectedServer"><b>Server Memory: </b>{{ selectedServer.memory_mb }} MB</div>
  </div>

  <div class="modal-footer">
    <button ng-click="upload()" ng-disabled="Form.$invalid || !model.server || error || !selectedServer.statsLoaded" class="btn btn-primary">Upload</button>
  </div>
</div>
