<div>
  <h2>
    DataSet <small title="Title"
      class="title" ng-bind="dataset.name || 'untitled dataset'"
      editable="dataset" value="dataset.name"
      editable-field="name" editable-input="text"
      editable-placement="right"></small>
      <div class="actions" ng-controller="DatasetActionsCtrl" style="min-width: 100px;" ng-init="init({dataset: dataset, handler: handler})">
        <a class="btn btn-info" ng-show="dataset.on_s3" ng-click="download()"><i title="Download From Amazon S3" class="icon-download-alt"></i> Download</a>
        <button ng-click="delete()" class="btn btn-danger">
          <i title="Delete dataset. Be careful - you could not recover it!" class="icon-remove"></i> Delete
        </button>
      </div>
  </h2>
  <div class="date-created" ng-init="obj=dataset">
    <ng-include src="'/partials/parts/created_tags.html'"></ng-include>
    <i class="icon-status"></i>
    <span class="badge badge-warning">{{ dataset.status }}</span>
  </div>
  <p></p>
</div>

<alert-message ng-show="msg" class="alert-info" msg='{{ msg }}' unsafe></alert-message>
<alert-message ng-show="err" class="alert-error" msg='{{ err }}' unsafe></alert-message>

<alert-message ng-show="dataset.error" class="alert-error" msg='{{ dataset.error }}' unsafe></alert-message>

<ul class="nav nav-tabs" ng-show="dataset.loaded">
  <li ng-class="{active: action[0] == 'model'}">
    <a ng-click="setSection(['model', 'details'])">Details</a> 
  </li>
  <li ng-class="{active: action[0] == 'log'}"><a ng-click="setSection(['log', 'details'])">Logs</a></li>
</ul>
 
<div class="tab-content" ng-show="dataset.loaded">
  <div ng-show="action[0] == 'model'">
    <div>
        Data: <span class="value">{{ dataset.data }}</span>
    </div>
    <div>
        On Amazon S3: <span class="value">{{ dataset.on_s3 }}</span>
    </div>
    <div>
        Import Params: <span class="value">{{ dataset.import_params }}</span>
    </div>
    <div>
        Data Format: <span class="value">{{ dataset.format|uppercase }}</span>
    </div>
    <div>
        File Size: <span class="value">{{ dataset.filesize|bytes }}</span>
    </div>
    <div>
        Records Count: <span class="value">{{ dataset.records_count|number }}</span>
    </div>
    <div>
        Loading time: <span class="value">{{ dataset.time|humanize_time }}</span>
    </div>
  </div>

  <div ng-show="action[0] == 'log'" ng-controller="LogMessageListCtrl" ng-init="init('importdata_log', dataset.id)">
    <p ng-show="dataset.cluster"><a href="http://172.27.77.141:{{ dataset.cluster.port }}">
        Hadoop Web Ui of {{ dataset.cluster.jobflow_id }} cluster 
      </a></p>
    <p ng-show="dataset.cluster"><a href="http://172.27.77.141:{{ dataset.cluster.port }}/logs/steps/">
        Step logs
      </a></p>
    <ng-include src="'/partials/logmessages/list.html'"></ng-include>
  </div>
  <div ng-show="dataset.samples">
    <h3>Sample Data</h3>
    <div ng-repeat="sample in dataset.samples">
      <code>{{sample}}</code>
    </div>
  </div>
</div>