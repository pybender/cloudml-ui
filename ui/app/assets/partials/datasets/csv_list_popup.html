<div class="modal-header">
<button ng-click="close()" class="close" data-dismiss="modal">Ã—</button>
<h3>Download Classification Results</h3>
</div>
<div class="modal-body">
  <div class='alert alert-error' ng-show='err'>{{ err }}</div>
  <alert-message class="alert-info" msg='Export to CSV is background operation. You could see pending and completed exports in the About tab' unsafe></alert-message>
  <div class="row">
    <div class="span5">
      <label>Standard Fields ({{stdFields.length}}): </label>
      <div class="alert-info well">
        <span ng-repeat="f in stdFields">
          <span class="label label-info">{{f}}</span>
        </span>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="span5">
      <form class="form-inline">
      <label>Extra Fields ({{extraFields.length}}): </label>
      <div class="input-append">
        <select ng-model="csvField" ng-disabled="loading_state || !selectFields.length">
          <option value=''>
            {{ {true:'-- Select Field Name (' + selectFields.length + ') --',
                false:'-- All Fields Selected --'}[selectFields.length > 0] }}
          </option>
          <option ng-repeat="field in selectFields" value="{{ field }}">{{ field }}</option>
        </select>
        <a class="btn btn-info"
           ng-click="appendField()" ng-disabled="loading_state || !csvField">
            <i class="icon-plus"></i>
        </a>
        <a class="btn btn-info"
           ng-click="addAll()"
           ng-disabled="loading_state || !selectFields.length">Add All</a>
        <a class="btn btn-info"
           ng-click="removeAll()"
           ng-disabled="loading_state || !extraFields.length">Remove All</a>
      </div>
      <span ng-show="loading_state">Loading...</span>
      </form>
    </div>
  </div>
  <div class="row" ng-show="extraFields.length">
    <div class="span5">
      <div class="alert-info well">
        <span ng-repeat="f in extraFields">
          <span class="label label-info">
            {{ f }} <a ng-click="removeField(f)"><i class="icon-remove"></i></a>
          </span>
        </span>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button ng-click="close()" class="btn">Cancel</button>
  <a ng-click="getExamplesCsv()" ng-disabled="loading_state" class="btn btn-primary">Start export</a>
</div>
