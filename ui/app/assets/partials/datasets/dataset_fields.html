<div class="row columns">
  <div ng-hide="new" ng-class="{span3: !parameters['dataset'], span6: parameters['dataset']}">
    <div class="control-group" ng-controller="DatasetSelectCtrl">
      <p title="Use existing dataset for train model" class="text-center">Existing DataSet</p>
      <label class="control-label">DataSet:</label>
      <div class="controls" ng-class="{error: Form.dataset.$invalid}">
        <select ui-select2="select2Options" ng-multiple="multiple_dataset" name="dataset" ng-model='parameters["dataset"]' required>
            <option ng-repeat="ds in datasets" value="{{ ds._id }}">{{ ds.name }}</option>
        </select>
      </div>
    </div>
  </div>
  <div ng-hide="new || parameters['dataset']" style="float: left;">
    <b class="text-center">or</b>
  </div>
  <div ng-class="{span3: !new, span6: new}" ng-hide="parameters['dataset']">
    <div>
      <p class="text-center" title="Load new dataset and train model">New DataSet using <a target="_blank" href="#{{ model.train_import_handler_obj.objectUrl() }}">{{ model.train_import_handler_obj.name }}</a></p>
      <div ng-repeat="param in params" class="control-group">
        <label class="control-label">{{ param | capfirst }}:</label>
        <div class="controls" ng-class="{error: !paramsFilled}">
          <input title="Load dataset using import handler" ng-change="changeParams(param)" class="input-small" ng-model='parameters[param]' name="{{param}}" placeholder='{{ param }}' type='text' required />
        </div>
      </div>
    </div>
  </div>
</div>