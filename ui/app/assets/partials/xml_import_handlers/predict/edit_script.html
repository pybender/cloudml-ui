<form name="Form" class="form-horizontal" ng-controller="SaveObjectCtl">
  <div class="modal-header">
    <button ng-click="$dismiss('cancel')" class="close" data-dismiss="modal">Ã—</button>
    <h3>Script</h3>
  </div>

  <div class="modal-body">
    <ng-include src="'partials/parts/save_form_messages.html'"></ng-include>
    <div ng-hide="model.editPositiveLabel" model.editPositiveLabel class="control-group" ng-class="{error: Form.script.$invalid || errorList.script}">
      <textarea rows="8" ui-codemirror="codeMirrorConfigs(false)['python']" class="cml-codemirror-refresh" name="script" ng-model="model.script" ng-change="setFieldError('script')" required></textarea>
      <span ng-show="Form.script.$error.required" class="help-inline">*</span>
      <span ng-show="errorList.script" class="help-block" ng-bind="errorList.script" />
    </div>
    <div ng-show="model.editPositiveLabel" class="control-group" ng-class="{error: Form.positive_label_script.$invalid || errorList.positive_label_script}">
      <textarea rows="8" ui-codemirror="codeMirrorConfigs(false)['python']" class="cml-codemirror-refresh" name="positive_label_script" ng-model="model.positive_label_script" ng-change="setFieldError('positive_label_script')" required></textarea>
      <span ng-show="Form.positive_label_script.$error.required" class="help-inline">*</span>
      <span ng-show="errorList.positive_label_script" class="help-block" ng-bind="errorList.positive_label_script" />
    </div>
  </div>

  <div class="modal-footer" ng-init="fields = {false: ['script', 'import_handler_id'], true: ['positive_label_script', 'import_handler_id']}[model.editPositiveLabel]">
    <!-- TODO: disable button -->
    <button ng-click="save(fields)" class="btn btn-primary">Save</button>
  </div>
</form>
